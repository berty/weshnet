{
  "swagger": "2.0",
  "info": {
    "title": "bertyprotocol.proto",
    "version": "version not set"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/instance/export-data": {
      "post": {
        "summary": "InstanceExportData exports instance data",
        "operationId": "InstanceExportData",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/protocolInstanceExportDataReply"
            }
          }
        },
        "tags": [
          "ProtocolService"
        ]
      }
    }
  },
  "definitions": {
    "ContactTrustLevel": {
      "type": "string",
      "enum": [
        "Unknown",
        "Untrusted",
        "Accepted",
        "Trusted",
        "UltimateTrust"
      ],
      "default": "Unknown"
    },
    "EventSubscribeBroadcastEvent": {
      "type": "object",
      "properties": {
        "group_id": {
          "type": "string",
          "format": "byte"
        },
        "member_id": {
          "type": "string",
          "format": "byte"
        },
        "topic_id": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "EventSubscribeContactRequestEvent": {
      "type": "object",
      "properties": {
        "contact_account_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "metadata": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "EventSubscribeGroupInvitationEvent": {
      "type": "object",
      "properties": {
        "group_id": {
          "type": "string",
          "format": "byte"
        },
        "inviter_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "metadata": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "EventSubscribeMessageEvent": {
      "type": "object",
      "properties": {
        "group_id": {
          "type": "string",
          "format": "byte"
        },
        "member_id": {
          "type": "string",
          "format": "byte"
        },
        "payload": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "GroupInfoGroupAudience": {
      "type": "string",
      "enum": [
        "Undefined",
        "OneToOne",
        "Group",
        "Self"
      ],
      "default": "Undefined"
    },
    "InstanceGetConfigurationSettingState": {
      "type": "string",
      "enum": [
        "Unknown",
        "Enabled",
        "Disabled",
        "Unavailable"
      ],
      "default": "Unknown"
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "type_url": {
          "type": "string"
        },
        "value": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "protocolAccountDisableIncomingContactRequestReply": {
      "type": "object"
    },
    "protocolAccountEnableIncomingContactRequestReply": {
      "type": "object",
      "properties": {
        "contact_request_link": {
          "$ref": "#/definitions/protocolContactRequestLink"
        }
      }
    },
    "protocolAccountGetConfigurationReply": {
      "type": "object",
      "properties": {
        "contact_requestable": {
          "type": "boolean",
          "format": "boolean"
        },
        "default_pinning_service": {
          "type": "string",
          "format": "byte"
        },
        "metadata": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "protocolAccountGetInformationReply": {
      "type": "object",
      "properties": {
        "account_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "devices": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protocolDevice"
          }
        }
      }
    },
    "protocolAccountLinkNewDeviceReply": {
      "type": "object",
      "properties": {
        "invitation": {
          "$ref": "#/definitions/protocolInvitation"
        }
      }
    },
    "protocolAccountResetIncomingContactRequestLinkReply": {
      "type": "object",
      "properties": {
        "contact_request_link": {
          "$ref": "#/definitions/protocolContactRequestLink"
        }
      }
    },
    "protocolContact": {
      "type": "object",
      "properties": {
        "account_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "one_to_one_group_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "trust_level": {
          "$ref": "#/definitions/ContactTrustLevel"
        },
        "metadata": {
          "type": "string",
          "format": "byte"
        },
        "blocked": {
          "type": "boolean",
          "format": "boolean"
        },
        "one_to_one_group": {
          "$ref": "#/definitions/protocolGroupInfo"
        }
      },
      "title": "Contact is the public version of protocolmodel.Contact and should stay in sync"
    },
    "protocolContactGetReply": {
      "type": "object",
      "properties": {
        "contact": {
          "$ref": "#/definitions/protocolContact"
        }
      }
    },
    "protocolContactListReply": {
      "type": "object",
      "properties": {
        "contact": {
          "$ref": "#/definitions/protocolContact"
        }
      }
    },
    "protocolContactRemoveReply": {
      "type": "object"
    },
    "protocolContactRequestAcceptReply": {
      "type": "object"
    },
    "protocolContactRequestDiscardReply": {
      "type": "object"
    },
    "protocolContactRequestLink": {
      "type": "object",
      "properties": {
        "rendezvous_point_seed": {
          "type": "string",
          "format": "byte"
        },
        "contact_account_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "metadata": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "protocolContactRequestListIncomingReply": {
      "type": "object",
      "properties": {
        "contact": {
          "$ref": "#/definitions/protocolContact"
        }
      }
    },
    "protocolContactRequestListOutgoingReply": {
      "type": "object",
      "properties": {
        "contact": {
          "$ref": "#/definitions/protocolContact"
        }
      }
    },
    "protocolContactRequestSendReply": {
      "type": "object"
    },
    "protocolDevice": {
      "type": "object",
      "properties": {
        "device_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "parent_device_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "linked_at": {
          "type": "string",
          "format": "date-time"
        },
        "ble_capable": {
          "type": "boolean",
          "format": "boolean"
        },
        "wifi_p2p_capable": {
          "type": "boolean",
          "format": "boolean"
        },
        "relay_capable": {
          "type": "boolean",
          "format": "boolean"
        }
      }
    },
    "protocolEventSubscribeReply": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "#/definitions/protocolEventSubscribeType"
        },
        "event_id": {
          "type": "string",
          "format": "byte"
        },
        "message_event": {
          "$ref": "#/definitions/EventSubscribeMessageEvent"
        },
        "contact_request_event": {
          "$ref": "#/definitions/EventSubscribeContactRequestEvent"
        },
        "group_invitation_event": {
          "$ref": "#/definitions/EventSubscribeGroupInvitationEvent"
        },
        "broadcast_event": {
          "$ref": "#/definitions/EventSubscribeBroadcastEvent"
        }
      }
    },
    "protocolEventSubscribeType": {
      "type": "string",
      "enum": [
        "EventUnknown",
        "EventMessage",
        "EventContactRequest",
        "EventGroupInvitation",
        "EventBroadcastAvailable"
      ],
      "default": "EventUnknown"
    },
    "protocolGroupCreateReply": {
      "type": "object",
      "properties": {
        "group_info": {
          "$ref": "#/definitions/protocolGroupInfo"
        }
      }
    },
    "protocolGroupGenerateInviteLinkReply": {
      "type": "object",
      "properties": {
        "invitation": {
          "$ref": "#/definitions/protocolInvitation"
        }
      }
    },
    "protocolGroupInfo": {
      "type": "object",
      "properties": {
        "group_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "metadata": {
          "type": "string",
          "format": "byte"
        },
        "audience": {
          "$ref": "#/definitions/GroupInfoGroupAudience"
        },
        "version": {
          "type": "integer",
          "format": "int64"
        },
        "inviter_contact_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "members": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protocolGroupMember"
          }
        },
        "inviter": {
          "$ref": "#/definitions/protocolContact"
        }
      },
      "title": "GroupInfo is the public version of protocolmodel.GroupInfo and should stay in sync"
    },
    "protocolGroupInvitationAcceptReply": {
      "type": "object"
    },
    "protocolGroupInvitationCreateReply": {
      "type": "object"
    },
    "protocolGroupInvitationDiscardReply": {
      "type": "object"
    },
    "protocolGroupInvitationListReply": {
      "type": "object",
      "properties": {
        "inviter_account_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "group_info": {
          "$ref": "#/definitions/protocolGroupInfo"
        }
      }
    },
    "protocolGroupLeaveReply": {
      "type": "object"
    },
    "protocolGroupListReply": {
      "type": "object",
      "properties": {
        "group_info": {
          "$ref": "#/definitions/protocolGroupInfo"
        }
      }
    },
    "protocolGroupMember": {
      "type": "object",
      "properties": {
        "group_member_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "group_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "inviter_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "contact_account_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "metadata": {
          "type": "string",
          "format": "byte"
        },
        "group_info": {
          "$ref": "#/definitions/protocolGroupInfo"
        },
        "inviter": {
          "$ref": "#/definitions/protocolGroupMember"
        },
        "contact": {
          "$ref": "#/definitions/protocolContact"
        }
      },
      "title": "GroupMember is the public version of protocolmodel.GroupMember and should stay in sync"
    },
    "protocolGroupMessageCreateReply": {
      "type": "object"
    },
    "protocolGroupMessageListReply": {
      "type": "object",
      "properties": {
        "message_id": {
          "type": "string",
          "format": "byte"
        },
        "member_id": {
          "type": "string",
          "format": "byte"
        },
        "payload": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "protocolGroupTopicPublishReply": {
      "type": "object"
    },
    "protocolGroupTopicSubscribeReply": {
      "type": "object",
      "properties": {
        "volatile_data": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "protocolInstanceExportDataReply": {
      "type": "object",
      "properties": {
        "exported_data": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "protocolInstanceGetConfigurationReply": {
      "type": "object",
      "properties": {
        "peer_id": {
          "type": "string"
        },
        "listeners": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "ble_enabled": {
          "$ref": "#/definitions/InstanceGetConfigurationSettingState"
        },
        "wifi_p2p_enabled": {
          "$ref": "#/definitions/InstanceGetConfigurationSettingState"
        },
        "mdns_enabled": {
          "$ref": "#/definitions/InstanceGetConfigurationSettingState"
        },
        "relay_enabled": {
          "$ref": "#/definitions/InstanceGetConfigurationSettingState"
        }
      }
    },
    "protocolInvitation": {
      "type": "object",
      "properties": {
        "inviter_member_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "invitation_priv_key": {
          "type": "string",
          "format": "byte"
        },
        "invitation_pub_key_signature": {
          "type": "string",
          "format": "byte"
        },
        "group_version": {
          "type": "integer",
          "format": "int64"
        },
        "group_id_pub_key": {
          "type": "string",
          "format": "byte"
        },
        "shared_secret": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "protocolStreamManagerAcceptReply": {
      "type": "object"
    },
    "protocolStreamManagerRequestToContactReply": {
      "type": "object"
    },
    "runtimeStreamError": {
      "type": "object",
      "properties": {
        "grpc_code": {
          "type": "integer",
          "format": "int32"
        },
        "http_code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "http_status": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    }
  },
  "x-stream-definitions": {
    "protocolContactListReply": {
      "type": "object",
      "properties": {
        "result": {
          "$ref": "#/definitions/protocolContactListReply"
        },
        "error": {
          "$ref": "#/definitions/runtimeStreamError"
        }
      },
      "title": "Stream result of protocolContactListReply"
    },
    "protocolContactRequestListIncomingReply": {
      "type": "object",
      "properties": {
        "result": {
          "$ref": "#/definitions/protocolContactRequestListIncomingReply"
        },
        "error": {
          "$ref": "#/definitions/runtimeStreamError"
        }
      },
      "title": "Stream result of protocolContactRequestListIncomingReply"
    },
    "protocolContactRequestListOutgoingReply": {
      "type": "object",
      "properties": {
        "result": {
          "$ref": "#/definitions/protocolContactRequestListOutgoingReply"
        },
        "error": {
          "$ref": "#/definitions/runtimeStreamError"
        }
      },
      "title": "Stream result of protocolContactRequestListOutgoingReply"
    },
    "protocolEventSubscribeReply": {
      "type": "object",
      "properties": {
        "result": {
          "$ref": "#/definitions/protocolEventSubscribeReply"
        },
        "error": {
          "$ref": "#/definitions/runtimeStreamError"
        }
      },
      "title": "Stream result of protocolEventSubscribeReply"
    },
    "protocolGroupInvitationListReply": {
      "type": "object",
      "properties": {
        "result": {
          "$ref": "#/definitions/protocolGroupInvitationListReply"
        },
        "error": {
          "$ref": "#/definitions/runtimeStreamError"
        }
      },
      "title": "Stream result of protocolGroupInvitationListReply"
    },
    "protocolGroupListReply": {
      "type": "object",
      "properties": {
        "result": {
          "$ref": "#/definitions/protocolGroupListReply"
        },
        "error": {
          "$ref": "#/definitions/runtimeStreamError"
        }
      },
      "title": "Stream result of protocolGroupListReply"
    },
    "protocolGroupMessageListReply": {
      "type": "object",
      "properties": {
        "result": {
          "$ref": "#/definitions/protocolGroupMessageListReply"
        },
        "error": {
          "$ref": "#/definitions/runtimeStreamError"
        }
      },
      "title": "Stream result of protocolGroupMessageListReply"
    },
    "protocolGroupTopicSubscribeReply": {
      "type": "object",
      "properties": {
        "result": {
          "$ref": "#/definitions/protocolGroupTopicSubscribeReply"
        },
        "error": {
          "$ref": "#/definitions/runtimeStreamError"
        }
      },
      "title": "Stream result of protocolGroupTopicSubscribeReply"
    },
    "protocolStreamManagerAcceptReply": {
      "type": "object",
      "properties": {
        "result": {
          "$ref": "#/definitions/protocolStreamManagerAcceptReply"
        },
        "error": {
          "$ref": "#/definitions/runtimeStreamError"
        }
      },
      "title": "Stream result of protocolStreamManagerAcceptReply"
    }
  }
}
