syntax = "proto3";

option go_package = "berty.tech/go/pkg/bertyprotocol";

import "google/protobuf/descriptor.proto";

service Protocol {
  rpc EventSubscribe(EventSubscribeRequest) returns (stream EventStream);

  // Account
  rpc AccountExportData(AccountExportDataRequest) returns (AccountExportDataReply);
  rpc AccountGetInformation(AccountGetInformationRequest) returns (AccountGetInformationReply);
  rpc AccountGetNetworkConfiguration(GetNetworkConfigurationRequest) returns (GetNetworkConfigurationReply);
  rpc AccountLinkNewDevice(AccountLinkNewDeviceRequest) returns (AccountLinkNewDeviceReply);

  // Account Public Contact Request
  rpc AccountPublicContactRequestDisable(PublicContactRequestDisableRequest) returns (PublicContactRequestDisableReply);
  rpc AccountPublicContactRequestEnable(PublicContactRequestEnableRequest) returns (PublicContactRequestEnableReply);
  rpc AccountPublicContactRequestResetLink(AccountPublicContactRequestResetLinkRequest) returns (AccountPublicContactRequestResetLinkReply);

  // Contact Request
  rpc ContactRequestAccept(ContactRequestAcceptRequest) returns (ContactRequestAcceptReply);
  rpc ContactRequestDiscard(ContactRequestDiscardRequest) returns (ContactRequestDiscardReply);
  rpc ContactRequestListIncoming(ContactRequestListIncomingRequest) returns (stream ContactRequestListIncomingReply);
  rpc ContactRequestListOutgoing(ContactRequestListOutgoingRequest) returns (stream ContactRequestListOutgoingReply);
  rpc ContactRequestSend(ContactRequestSendRequest) returns (ContactRequestSendReply);

  // Contact
  rpc ContactGet(ContactGetRequest) returns (ContactGetReply);
  rpc ContactInitStream(ContactInitStreamRequest) returns (ContactInitStreamReply);
  rpc ContactList(ContactListRequest) returns (stream ContactListReply);
  rpc ContactRemove(ContactRemoveRequest) returns (ContactRemoveReply);

  // Device
  rpc DeviceOpenStream(stream DeviceOpenStreamRequest) returns (stream DeviceOpenStreamReply);

  // Group
  rpc GroupCreate(GroupCreateRequest) returns (GroupCreateReply);
  rpc GroupGenerateInviteLink(GroupGenerateInviteLinkRequest) returns (GroupGenerateInviteLinkReply);
  rpc GroupLeave(GroupLeaveRequest) returns (GroupLeaveReply);
  rpc GroupList(GroupListRequest) returns (stream GroupListReply);

  // Group Message
  rpc GroupMessageCreate(GroupMessageCreateRequest) returns (GroupMessageCreateReply);
  rpc GroupMessageList(GroupMessageListRequest) returns (stream GroupMessageListReply);

  // Group Request
  rpc GroupRequestAccept(GroupRequestAcceptRequest) returns (GroupRequestAcceptReply);
  rpc GroupRequestCreate(GroupRequestCreateRequest) returns (GroupRequestCreateReply);
  rpc GroupRequestDiscard(GroupRequestDiscardRequest) returns (GroupRequestDiscardReply);
  rpc GroupRequestList(GroupRequestListRequest) returns (stream GroupRequestListReply);
}

message EventSubscribeRequest {}
message EventStream {
  // Account Event
}

// Account

message AccountExportDataRequest {}
message AccountExportDataReply {}

message AccountGetInformationRequest {}
message AccountGetInformationReply {
  // account information
}

message GetNetworkConfigurationRequest {}
message GetNetworkConfigurationReply {
  // NetworkConfiguration
}

message AccountLinkNewDeviceRequest {}
message AccountLinkNewDeviceReply {}


// Account Public Contact Request

message PublicContactRequestDisableRequest {}
message PublicContactRequestDisableReply {}

message PublicContactRequestEnableRequest {}
message PublicContactRequestEnableReply {}

message AccountPublicContactRequestResetLinkRequest {}
message AccountPublicContactRequestResetLinkReply {}


// Contact Request

message ContactRequestAcceptRequest {}
message ContactRequestAcceptReply {}

message ContactRequestDiscardRequest {}
message ContactRequestDiscardReply {}

message ContactRequestListIncomingRequest {};
message ContactRequestListIncomingReply {};

message ContactRequestListOutgoingRequest {};
message ContactRequestListOutgoingReply {};

message ContactRequestSendRequest {};
message ContactRequestSendReply {};


// Contact

message ContactGetRequest {}
message ContactGetReply {}

message ContactInitStreamRequest {}
message ContactInitStreamReply {}

message ContactRemoveRequest {}
message ContactRemoveReply {}

message ContactListRequest {};
message ContactListReply {};


// Device

message DeviceOpenStreamRequest {}
message DeviceOpenStreamReply {}


// Group

message GroupCreateRequest {};
message GroupCreateReply {};

message GroupGenerateInviteLinkRequest {};
message GroupGenerateInviteLinkReply {};

message GroupLeaveRequest {};
message GroupLeaveReply {};

message GroupListRequest {};
message GroupListReply {};


// Group Message

message GroupMessageCreateRequest {};
message GroupMessageCreateReply {};

message GroupMessageListRequest {};
message GroupMessageListReply {};


// Group Request

message GroupRequestAcceptRequest {};
message GroupRequestAcceptReply {};

message GroupRequestCreateRequest {};
message GroupRequestCreateReply {};

message GroupRequestDiscardRequest {};
message GroupRequestDiscardReply {};

message GroupRequestListRequest {};
message GroupRequestListReply {};
